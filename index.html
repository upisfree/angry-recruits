<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>angry-recruits</title>

    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&amp;subset=cyrillic" rel="stylesheet">

    <style>
@keyframes text-blinking {
  14% {
    color: #ff0000;
  }
  28% {
    color: #ffa500;
  }
  42% {
    color: #ffff00;
  }
  56% {
    color: #008000;
  }
  70% {
    color: #add8e6;
  }
  84% {
    color: #0000ff;
  }
  100% {
    color: #800080;
  }
}

@keyframes gradient-rotation {
  100% {
    transform: rotate(360deg);
  }
}

/* css-only image preload */
body::after {
  content:
    url('./assets/ui/subpoena-front.jpg')
    url('./assets/ui/subpoena-back.jpg')
    url('./assets/ui/comics-start.jpg')
    url('./assets/ui/comics-end.jpg');
  position: absolute;
  width: 0;
  height: 0;
  overflow: hidden;
  z-index: -1;
}

html,
body {
  position: fixed;
  width: 100vw;
  height: 100vh;
  max-width: 100vw;
  max-height: 100vh;
  overflow: hidden;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Press Start 2P', sans-serif;
}

.hidden {
  display: none !important;  
}

.no-interaction {
  pointer-events: none;
}

#game canvas,
#ui-container {
  width: 1920px;
  height: 1080px;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.subpoenas {
  width: 100vw;
  height: 100vh;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.subpoenas-front {
  background-image: url('./assets/ui/subpoena-front.jpg');
  cursor: pointer;
}

.subpoenas-front::before {
  content: '';
  position: absolute;
  top: -100%;
  right: -100%;
  bottom: -100%;
  left: -100%;
  background-image: linear-gradient(0deg, rgba(0, 0, 0, 1), rgba(255, 255, 255, 0.25));
  transform: rotate(0deg);
  animation: gradient-rotation 5s linear infinite;
  opacity: 0.25;
}

.subpoenas-back {
  background-image: url('./assets/ui/subpoena-back.jpg');
  filter: hue-rotate(1030deg) saturate(1);
}

#ui-container {
  user-select: none;
}

#ui-container .screen {
  display: grid;
  width: 100%;
  height: 100%;

  color: rgba(255, 255, 255, 1);
  background-color: rgba(0, 0, 0, 0.25);
}

#ui-container .screen h1,
#ui-container .screen h2 {
  margin: auto;
}

#ui-container .screen h1 {
  font-size: 64pt;
}

#ui-container .screen h2 {
  font-size: 32pt;
}

#ui-container .win-screen h1 {
  margin-bottom: 1em;
}

#vk-auth {
  margin: auto;
}

#ui-container .win-screen p {
  padding: 0 31%;
  font-size: 13pt;
  line-height: 1.5;
  text-align: center;
  margin-top: -4em;
}

#ui-container .win-screen .score-text {
  margin-top: 0;
}

#ui-container .score-screen {
  background-color: transparent;
}

#ui-container .score-screen p {
  margin: 6%;
  font-size: 28pt;
  text-align: center;
}

#ui-container .next-level-screen {
  cursor: pointer;
  text-align: center;
}

#ui-container .next-level-screen h1 {
  font-size: 32pt;
  margin-bottom: 1em;
}

#ui-container .next-level-screen h2 {
  font-size: 24pt;
}

#ui-container .next-level-screen p {
  font-size: 18pt;
}

#ui-container .screen:not(.score-screen) .score-text-value,
.next-level-japanese {
  animation: text-blinking 1s step-start infinite;
}

.comics-screen {
  background-size: 100% 100%;
  cursor: pointer;
}

.comics-start {
  background-image: url('./assets/ui/comics-start.jpg');
}

.comics-end {
  background-image: url('./assets/ui/comics-end.jpg');
}

.wrong-orientation-screen {
  position: absolute;
  top: 0;
}

.wrong-orientation-screen h1 {
  font-size: 50pt;
  text-align: center;
}
    </style>

    <script src="https://vk.com/js/api/openapi.js?160" type="text/javascript"></script>
  </head>
  <body>
    <div class="subpoenas subpoenas-front"></div>

    <!-- <button id="start-button">–°–¢–ê–†–¢</button> -->

    <div id="game" class="hidden"></div>

    <div id="ui-container" class="hidden">
      <div class="screen comics-screen comics-start"></div>
      <div class="screen comics-screen comics-end hidden"></div>

      <div class="screen score-screen">
        <p><span class="score-text-value">0</span> –æ—á–∫–æ–≤</p>
      </div>

      <div class="screen win-screen hidden">
        <h1>–Ω –µ –≥ –æ –¥ –µ –Ω</h1>
        <div id="vk-auth"></div>

        <p>
–ó–∞–π–¥–∏ —á–µ—Ä–µ–∑ –í–ö, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –ø–æ–ø–∞—Å—Ç—å –≤ —Ä–µ–π—Ç–∏–Ω–≥ –ª—É—á—à–∏—Ö –∏–≥—Ä–æ–∫–æ–≤!
(–ø–µ—Ä–≤—ã–µ –¥–µ—Å—è—Ç—å —á–µ–ª–æ–≤–µ–∫ –ø–æ–ª—É—á–∞—Ç —Å–∫–∏–¥–∫—É –≤ 10% –Ω–∞ —É—Å–ª—É–≥–∏ –ü–†–ò–ó–´–í–ê–ù–ï–¢.–†–£) 
        </p>
        <h2 class="score-text"><span class="score-text-value">0</span> –æ—á–∫–æ–≤</h2>
      </div>

      <div class="screen fail-screen hidden">
        <h1>–≥ –æ –¥ –µ –Ω</h1>
        <h2 class="score-text"><span class="score-text-value">0</span> –æ—á–∫–æ–≤</h2> 
      </div>

      <div class="screen next-level-screen hidden">
        <h1>–æ—á–µ—Ä–µ–¥–Ω–æ–π –≤–æ–µ–Ω–∫–æ–º –ø–æ—Å–∞–∂–µ–Ω –Ω–∞ –±—É—Ç—ã–ª–∫—É</h1>
        <h2 class="score-text">—É —Ç–µ–±—è —Å–µ–π—á–∞—Å <span class="score-text-value">0</span> –æ—á–∫–æ–≤, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É</h2>
        <p>–∫–ª–∏–∫–Ω–∏ –≥–¥–µ-–Ω–∏–±—É–¥—å, —á—Ç–æ–±—ã <span class="next-level-japanese">ÂâçÈÄ≤„Åô„Çã</span></p>
      </div>

      <div class="screen wrong-orientation-screen hidden">
        <h1>–ø–µ—Ä–µ–≤–µ—Ä–Ω–∏ üîÑ —Ç–µ–ª–µ—Ñ–æ–Ω üì±, –∏–≥—Ä–∞—Ç—å –Ω–µ—É–¥–æ–±–Ω–æ</h1>
      </div>
    </div>

    <script src="./lib/phaser.js"></script>
    <!-- <script src="./lib/phaser.min.js"></script> -->
    <script src="./lib/phaser-matter-collision-plugin.js"></script>
    <!-- <script src="./lib/phaser-matter-collision-plugin.min.js"></script> -->
    <script src="./bin/angry-recruits.js"></script>
    <!-- <script src="./bin/angry-recruits.min.js"></script> -->
  </body>
</html>